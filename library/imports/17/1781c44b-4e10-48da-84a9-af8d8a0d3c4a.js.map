{"version":3,"sources":["assets\\Script\\flower.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAoC,0BAAY;IAAhD;QAAA,qEAgDC;QA9CW,YAAM,GAAQ,CAAC,CAAC;QAChB,YAAM,GAAQ,CAAC,CAAC;QAChB,UAAI,GAAc,IAAI,CAAC;QAE/B,aAAO,GAAS,IAAI,CAAC;;QAyCrB,iBAAiB;IACrB,CAAC;IAzCG,wBAAwB;IAEvB,uBAAM,GAAN;QACI,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IAC9C,CAAC;IAEF,sBAAK,GAAL;QACI,IAAI,CAAC,QAAQ,CAAC;YACV,IAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC,EAAC,CAAC,CAAC,CAAC;IACT,CAAC;IACD,uBAAM,GAAN,UAAO,EAAE;QACL,IAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,KAAK,EAAC;YAC3C,IAAG,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,SAAS;gBAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC1F;aACI;YACD,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;SACpB;IACL,CAAC;IACD,+BAAc,GAAd,UAAe,KAAK,EAAC,IAAI,EAAC,OAAO;QAC7B,IAAG,KAAK,CAAC,GAAG,IAAE,CAAC,EAAC;YACZ,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;SAC/C;aAAI;YACD,OAAO,CAAC,QAAQ,GAAC,IAAI,CAAC;SACzB;IACL,CAAC;IACD,6BAAY,GAAZ,UAAa,KAAK,EAAC,IAAI,EAAC,OAAO;QAC3B,OAAO,CAAC,QAAQ,GAAC,KAAK,CAAC;IAC3B,CAAC;IACD,2BAAU,GAAV;QACI,IAAI,GAAa,CAAC;QAClB,GAAG,GAAE,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC,EAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QACvG,IAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,KAAK,EAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;SAC5B;aAAI;YACD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;SAC9B;IACL,CAAC;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CACG;IANJ,MAAM;QAD1B,OAAO;OACa,MAAM,CAgD1B;IAAD,aAAC;CAhDD,AAgDC,CAhDmC,EAAE,CAAC,SAAS,GAgD/C;kBAhDoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class flower extends cc.Component {\r\n\r\n    private init_x:number=0;\r\n    private init_y:number=0;\r\n    private anim:cc.Animation=null;\r\n    @property(cc.Node)\r\n    gameMgr:cc.Node=null;\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n     onLoad () {\r\n         this.init_x=this.node.x;\r\n         this.init_y=this.node.y;\r\n         this.anim=this.getComponent(cc.Animation);\r\n     }\r\n\r\n    start () {\r\n        this.schedule(function(){\r\n            this.flowerMove();\r\n        },7);\r\n    }\r\n    update(dt){\r\n        if(!this.gameMgr.getComponent('GameMgr').pause){\r\n            if(!this.anim.getAnimationState('flower_move').isPlaying)this.anim.play('flower_move');\r\n        }\r\n        else {\r\n            this.anim.stop();\r\n        }\r\n    }\r\n    onBeginContact(other,self,contact){\r\n        if(other.tag==7){\r\n            this.gameMgr.getComponent('GameMgr').hurt();\r\n        }else{\r\n            contact.disabled=true;\r\n        }\r\n    }\r\n    onEndContact(other,self,contact){\r\n        contact.disabled=false;\r\n    }\r\n    flowerMove(){\r\n        var seq:cc.Action;\r\n        seq =cc.sequence(cc.moveTo(2.5, this.init_x, this.init_y+30),cc.moveTo(2.5, this.init_x, this.init_y));\r\n        if(!this.gameMgr.getComponent('GameMgr').pause){\r\n            this.node.runAction(seq);\r\n        }else{\r\n            this.node.stopAllActions();\r\n        }\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}